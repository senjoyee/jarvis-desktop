{"version":3,"sources":["../src/components/ToolbarToggleButton/useToolbarToggleButton.ts"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { useToggleButton_unstable } from '@fluentui/react-button';\nimport { useToolbarContext_unstable } from '../Toolbar/ToolbarContext';\nimport type {\n  ToolbarToggleButtonProps,\n  ToolbarToggleButtonState,\n  ToolbarToggleButtonBaseProps,\n  ToolbarToggleButtonBaseState,\n} from './ToolbarToggleButton.types';\n\n/**\n * Given user props, defines default props for the ToggleButton, calls useButtonState and useChecked, and returns\n * processed state.\n * @param props - User provided props to the ToggleButton component.\n * @param ref - User provided ref to be passed to the ToggleButton component.\n */\nexport const useToolbarToggleButton_unstable = (\n  props: ToolbarToggleButtonProps,\n  ref: React.Ref<HTMLButtonElement | HTMLAnchorElement>,\n): ToolbarToggleButtonState => {\n  const state = useToolbarToggleButtonBase_unstable(props, ref);\n  return {\n    appearance: 'subtle',\n    ...state,\n  };\n};\n\n/**\n * Base hook that builds Toolbar ToggleButton state for behavior and structure only.\n * It does not provide any design-related defaults.\n *\n * @internal\n * @param props - User provided props to the ToggleButton component.\n * @param ref - User provided ref to be passed to the ToggleButton component.\n */\nexport const useToolbarToggleButtonBase_unstable = (\n  props: ToolbarToggleButtonBaseProps,\n  ref: React.Ref<HTMLButtonElement | HTMLAnchorElement>,\n): ToolbarToggleButtonBaseState => {\n  const handleToggleButton = useToolbarContext_unstable(ctx => ctx.handleToggleButton);\n  const checked = useToolbarContext_unstable(ctx => !!ctx.checkedValues[props.name]?.includes(props.value));\n\n  const { onClick: onClickOriginal } = props;\n  const toggleButtonState = useToggleButton_unstable({ checked, ...props }, ref);\n  const state: ToolbarToggleButtonBaseState = {\n    ...toggleButtonState,\n    name: props.name,\n    value: props.value,\n  };\n\n  const handleOnClick = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent> & React.MouseEvent<HTMLAnchorElement, MouseEvent>,\n  ) => {\n    if (state.disabled || state.disabledFocusable) {\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    handleToggleButton?.(e, state.name, state.value, state.checked);\n    onClickOriginal?.(e);\n  };\n\n  state.root.onClick = handleOnClick;\n  return state;\n};\n"],"names":["React","useToggleButton_unstable","useToolbarContext_unstable","useToolbarToggleButton_unstable","props","ref","state","useToolbarToggleButtonBase_unstable","appearance","handleToggleButton","ctx","checked","checkedValues","name","includes","value","onClick","onClickOriginal","toggleButtonState","handleOnClick","e","disabled","disabledFocusable","preventDefault","stopPropagation","root"],"mappings":"AAAA;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,wBAAwB,QAAQ,yBAAyB;AAClE,SAASC,0BAA0B,QAAQ,4BAA4B;AAQvE;;;;;CAKC,GACD,OAAO,MAAMC,kCAAkC,CAC7CC,OACAC;IAEA,MAAMC,QAAQC,oCAAoCH,OAAOC;IACzD,OAAO;QACLG,YAAY;QACZ,GAAGF,KAAK;IACV;AACF,EAAE;AAEF;;;;;;;CAOC,GACD,OAAO,MAAMC,sCAAsC,CACjDH,OACAC;IAEA,MAAMI,qBAAqBP,2BAA2BQ,CAAAA,MAAOA,IAAID,kBAAkB;IACnF,MAAME,UAAUT,2BAA2BQ,CAAAA;YAASA;eAAF,CAAC,GAACA,gCAAAA,IAAIE,aAAa,CAACR,MAAMS,IAAI,CAAC,cAA7BH,oDAAAA,8BAA+BI,QAAQ,CAACV,MAAMW,KAAK;;IAEvG,MAAM,EAAEC,SAASC,eAAe,EAAE,GAAGb;IACrC,MAAMc,oBAAoBjB,yBAAyB;QAAEU;QAAS,GAAGP,KAAK;IAAC,GAAGC;IAC1E,MAAMC,QAAsC;QAC1C,GAAGY,iBAAiB;QACpBL,MAAMT,MAAMS,IAAI;QAChBE,OAAOX,MAAMW,KAAK;IACpB;IAEA,MAAMI,gBAAgB,CACpBC;QAEA,IAAId,MAAMe,QAAQ,IAAIf,MAAMgB,iBAAiB,EAAE;YAC7CF,EAAEG,cAAc;YAChBH,EAAEI,eAAe;YACjB;QACF;QAEAf,+BAAAA,yCAAAA,mBAAqBW,GAAGd,MAAMO,IAAI,EAAEP,MAAMS,KAAK,EAAET,MAAMK,OAAO;QAC9DM,4BAAAA,sCAAAA,gBAAkBG;IACpB;IAEAd,MAAMmB,IAAI,CAACT,OAAO,GAAGG;IACrB,OAAOb;AACT,EAAE"}