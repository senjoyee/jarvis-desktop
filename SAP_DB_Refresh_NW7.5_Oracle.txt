Procedure: Refresh Database Content for SAP NetWeaver 7.5 (AS ABAP) on Oracle
Date: 2026-02-06
Source references: SAP Help Portal – “Copying the Database Only - Refresh Database Content on Oracle Database” (SWPM) and “Follow-Up Activities Checklist” (system copy follow-ups).

Purpose / Scope
- This document describes the recommended steps to refresh the database content of an existing SAP NetWeaver 7.5 ABAP system using an Oracle database.
- Two supported methods are described: (A) SAP standard method using Software Provisioning Manager (SWPM, R3load-based export/import) and (B) Database Backup/Restore method (Oracle RMAN or storage-based restore) followed by SWPM Refresh.
- Includes prerequisites, step-by-step actions for source and target systems, and follow-up activities / verification.

Important notes / Warnings
- Always test the procedure in a non-production environment first and have validated backups available.
- Perform the refresh during a maintenance window; service interruption is required.
- Ensure change control, approvals, and communication to application owners before proceeding.

References
- SAP Help Portal: Copying the Database Only - Refresh Database Content on Oracle Database
  https://help.sap.com/docs/SLTOOLSET/62eb9f365f464802be11f7869069750c/37e671bb1584467dbbeccd8fcc46b325.html
- SAP Help Portal: Follow-Up Activities Checklist
  https://help.sap.com/docs/help/126d8cbc0ed549d1a5abf70cf53fc953/fae6a2197cf244aeb08ac54751bb32dd.html
- See also SWPM / SystemCopy guides for your OS and SWPM version.

Prerequisites (general)
- Source and target systems must already exist and be reachable.
- Ensure you have the DDIC password for client 000 of the source system (SWPM will prompt for it).
- SAP Software Provisioning Manager (SWPM) version that supports your NetWeaver and Oracle versions (use the SWPM release recommended by SAP for NW 7.5).
- For Backup/Restore method: source and target database versions should match; it is not supported to use a target database version lower than the source.
- Database schema names on target must be identical to source (for Backup/Restore method).
- If Oracle Database Vault (DV) is enabled on source and you want DV enabled on target, have secadmin / c##secadmin password available (see SAP Note 2218115).
- If Oracle Transparent Data Encryption (TDE) is used, follow SAP guidance and Oracle procedures for key/cwallet handling (additional steps required).
- Confirm sufficient disk space on target for import.
- Verify network transfer method for export files (NFS/SMB/SCP) if using R3load export/import method.

High-level options
A. SAP standard method (SWPM R3load-based export/import)
  - SWPM on the source database host exports the database content into a distribution (R3load export).
  - You copy the distribution files to the target database host and run SWPM on the target to import by using the Refresh Database Content option.
  - Suitable when you prefer SAP standard export/import procedure.

B. Database Backup/Restore method (Oracle-specific)
  - Create a backup on the source (for example RMAN backup or storage snapshot), restore it on the target and then run SWPM Refresh Database Content.
  - Must follow Oracle-specific system copy/restore best practices described in SAP documentation and Oracle docs.

Detailed steps — Method A: SAP standard method (R3load via SWPM)
Pre-step (planning and preparations)
1. Confirm SWPM version and download SWPM distribution appropriate for your environment.
2. Plan location for export files (distribution) and how to transfer them to target.
3. Notify users and stakeholders and schedule downtime.

On the Source System (database host)
1. Stop the SAP system (all application server instances and central services). Ensure there are no active transactions.
   - Use your normal stop procedure (example: stopsap / stopsap r3 / sapcontrol commands or systemd service stop), depending on OS and setup.
2. Start Software Provisioning Manager (SWPM) on the source system’s database host.
3. On the SWPM Welcome screen choose:
   <Product> -> Software Life-cycle Options -> System Copy -> <Database> -> Source System Export -> <Distribution Option> -> Based on AS ABAP -> Database Instance Export
4. Follow the SWPM wizard to perform the database instance export. Take note of the distribution export location and any files produced (transfer these files to the target database host via secure copy or network share as planned).
5. Keep logs and exported files; do not delete until the target import completes successfully.

Transfer export distribution
1. Transfer the export distribution files produced by the SWPM export from the source DB host to the target DB host into a location accessible for SWPM import.
2. Verify file integrity after transfer (checksums).

On the Target System (database host)
1. Stop all SAP application server instances on the target system.
2. If required, prepare the target database instance (create empty instance or ensure DB user/schema exist per SWPM instructions). For R3load import, SWPM typically handles schema creation if the target database is installed as part of the process—follow SWPM prompts.
3. Start SWPM on the target database host.
4. On the SWPM Welcome screen run:
   Generic Options -> Refresh Database Content
5. In the SWPM procedure choose the distribution/export you copied from the source and proceed to import.
6. When SWPM prompts, provide required passwords (DDIC password for client 000 of source, and other DB credentials as requested).
7. Monitor the import. SWPM will execute the import (R3load) and log steps; resolve any issues flagged by SWPM.

Detailed steps — Method B: Database Backup / Restore method (Oracle RMAN or storage restore)
Pre-step (planning and preparations)
1. Agree backup/restore approach (RMAN full backup, storage snapshot, etc.) and test it in a non-production environment first.
2. Ensure source and target Oracle versions meet SAP constraints (see prerequisites above).

On the Source System
1. Stop the SAP system to get a consistent backup as recommended in your backup method; or follow your supported downtime approach for RMAN consistent backup (check SAP guidance for online vs offline backups).
2. Create a full database backup using Oracle RMAN or a storage-level snapshot as per your backup policy and SAP guidance.

On the Target System
1. Restore the database backup onto the target database host using RMAN or your storage restore method.
2. Ensure the restored database is in the expected state and that database configuration (init/SPFILE, parameters) is suitable for the target host (adjust listeners, ORACLE_SID, DB_FILE_PATHS as necessary).
3. Stop all SAP application server instances on the target system.
4. Start SWPM on the target database host and run:
   Generic Options -> Refresh Database Content
   This tells SWPM to perform the import/refresh steps and to adjust SAP database metadata accordingly.
5. Provide DDIC password and any other passwords when prompted by SWPM.

Special Oracle considerations
- Oracle Database Vault: If DV enabled on source and you want DV enabled on target, SWPM will require secadmin / c##secadmin password during import. See SAP Note 2218115.
- Oracle TDE: Additional steps are needed to move/restore keystores and master keys; consult SAP and Oracle docs (TDE is not automatically handled by SWPM).
- Database version: For the Backup/Restore method, source and target DB versions must match; do not use a lower target DB version than the source.
- Ensure Oracle listener, tnsnames, and environment variables on the target are configured correctly before starting SWPM.

Follow-Up Activities (after successful SWPM refresh/import)
- Start SAP application server instances on the target (use normal start procedure).
- Reimport ABAP profiles if required (RZ10 profile reimport from filesystem) as noted in SAP follow-up tasks.
- If Java parts were involved (not applicable for pure ABAP), perform Java follow-up tasks (certificates, transport directory, license keys, JVM params).
- If system is part of a transport landscape: reconfigure/validate transport domain membership and CTS configuration.
- Re-establish or clean up SLD / landscape entries to avoid duplicates.
- Recreate any environment-specific configuration that should not have been overwritten on the target (RFC targets, external file paths, OS-specific mounts, printer configs, background job schedules if needed).
- Reinstall or verify licenses (if required).
- Clean up exported distribution files if no longer needed (securely remove from temporary storage).

Verification checklist
- Start and log into SAP GUI and verify client 000 and an application client.
- Check system logs: SM21, ST22 (short dumps), and check for errors.
- Check background job processing and spool request handling.
- Verify RFC destinations and test connection (SM59).
- Check database health (ST04), table spaces, and run SAP Basis checks (OSS notes/health checks as appropriate).
- Verify transports and CTS functionality if applicable (STMS).
- Run sample critical business transactions and verify outputs.

Troubleshooting tips
- If SWPM fails during import, review swpm logs and r3load logs in the SWPM/log directory and address reported errors (missing privileges, filesystem space, corrupted transfer files).
- If Oracle permissions or schema conflicts occur, verify schema names and user privileges on target.
- For DV/TDE related failures, consult the specific SAP notes and Oracle documentation.

Useful SAP documents (important)
- Copying the Database Only - Refresh Database Content on Oracle Database (SWPM) — main reference
  https://help.sap.com/docs/SLTOOLSET/62eb9f365f464802be11f7869069750c/37e671bb1584467dbbeccd8fcc46b325.html
- Follow-Up Activities Checklist
  https://help.sap.com/docs/help/126d8cbc0ed549d1a5abf70cf53fc953/fae6a2197cf244aeb08ac54751bb32dd.html
- SWPM System Copy guides for your OS (search by SWPM version and NW 7.5 in SAP Help)

Recommendations
- Prefer a tested procedure for your landscape (R3load or backup/restore) and perform a dry-run in a sandbox.
- Document every action, export/import locations, and keep copies of SWPM logs for troubleshooting.
- Engage DBAs experienced with Oracle RMAN and SAP BASIS engineers together for Oracle-specific steps (TDE, DB Vault, listener changes).

File created at: C:\GenAI\Chloye_desktop\SAP_DB_Refresh_NW7.5_Oracle.txt

If you want, I can:
- produce a printable checklist version (one-page) for on-call engineers;
- extract the exact SWPM commands or log paths from the SAP docs and include them;
- create a runbook with time estimates and responsible roles for each step.
